"use strict";var DOC=document,WIN=window,_CLOSEST=function(e,t){for(var n=e;n;n=n.parentElement)if(n.classList.contains(t))return n},_MODAL=function(){for(var n,o=DOC.querySelector(".modal"),t=DOC.querySelectorAll(".modal__item"),r=DOC.querySelectorAll(".modal__trigger"),e=DOC.querySelectorAll(".modal__close"),l=DOC.querySelectorAll(".modal__prev"),c=DOC.querySelectorAll(".modal__next"),i=DOC.querySelector("html"),s=t.length,a=r.length,d=e.length,f=l.length,u=c.length,v=WIN.pageYOffset,L=!1,O=function(e){e.scrollTop=0,e.classList.add("-show"),e.focus(),setTimeout(function(){L=e},100)},m=function(){L.classList.remove("-show"),i.focus()},_=function(e){if(n=[].slice.call(t).indexOf(L),n=Number(n),"prev"==e&&0<n)n-=1;else{if(!("next"==e&&n<s-1))return!1;n+=1}m(),O(t[n])},C=function(){L=!1,i.classList.remove("-fixed"),i.scrollTop=v,o.classList.remove("-show")},D=0;D<a;D++)!function(t){r[t].addEventListener("click",function(e){e.preventDefault(),n=r[t].getAttribute("href"),n=DOC.querySelector(n),v=WIN.pageYOffset,i.style.top=-v+"px",i.classList.add("-fixed"),o.classList.add("-show"),O(n)},!1)}(D);for(var p=0;p<d;p++)e[p].addEventListener("click",function(e){m(),C()},!1);DOC.addEventListener("click",function(e){0!=L&&(_CLOSEST(e.target,"modal__wrap")||(m(),C()))});for(var S=0;S<f;S++)l[S].addEventListener("click",function(e){_("prev")},!1);for(var g=0;g<u;g++)c[g].addEventListener("click",function(e){_("next")},!1);WIN.addEventListener("keydown",function(){if(1==L){var e=event.keyCode;27==e&&(m(),C()),37==e&&_("prev"),39==e&&_("next")}})};DOC.addEventListener("DOMContentLoaded",function(){_MODAL()});